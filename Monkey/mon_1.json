{"data":[{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/751","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/751/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/751/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/751/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/issues/751","id":263017585,"number":751,"title":"OPT: LodGenerator - replace ArrayList sort with PriorityQueue","user":{"login":"jandam","id":7425758,"avatar_url":"https://avatars0.githubusercontent.com/u/7425758?v=4","gravatar_id":"","url":"https://api.github.com/users/jandam","html_url":"https://github.com/jandam","followers_url":"https://api.github.com/users/jandam/followers","following_url":"https://api.github.com/users/jandam/following{/other_user}","gists_url":"https://api.github.com/users/jandam/gists{/gist_id}","starred_url":"https://api.github.com/users/jandam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jandam/subscriptions","organizations_url":"https://api.github.com/users/jandam/orgs","repos_url":"https://api.github.com/users/jandam/repos","events_url":"https://api.github.com/users/jandam/events{/privacy}","received_events_url":"https://api.github.com/users/jandam/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-10-05T06:33:59Z","updated_at":"2017-10-05T13:28:29Z","closed_at":null,"author_association":"NONE","body":"LodGenerator can be improved by using PriorityQueue instead of ArrayList and sorting. Following code is without logging. So cannot be used without modification.\r\ncomputeLods - uses PriorityQueue. Add/Remove are log N\r\ncomputeEdgeCollapseCost - prefilters triangles from inner loop in last section\r\n\r\nNew code takes about 40% of original computeLods duration. Depends on input data.\r\n\r\n```\r\n    private static final Comparator<Vertex> COLLAPSE_COMPARATOR = (o1, o2) -> Float.compare(o1.collapseCost, o2.collapseCost);\r\n    private Queue<Vertex> collapseCostSet = new PriorityQueue<>(COLLAPSE_COMPARATOR);\r\n    private Triangle[] triangles = null;\r\n\r\n  public VertexBuffer[] computeLods(TriangleReductionMethod reductionMethod, float... reductionValues) {\r\n        int tricount = triangleList.size();\r\n        int lastBakeVertexCount = tricount;\r\n        int lodCount = reductionValues.length;\r\n        VertexBuffer[] lods = new VertexBuffer[lodCount + 1];\r\n        int numBakedLods = 1;\r\n        lods[0] = mesh.getBuffer(VertexBuffer.Type.INDEX);\r\n        for (int curLod = 0; curLod < lodCount; curLod++) {\r\n            int neededTriCount = calcLodTriCount(reductionMethod, reductionValues[curLod]);\r\n            while (neededTriCount < tricount) {\r\n                Vertex v = collapseCostSet.poll();\r\n                if (v == null) break;\r\n                if (v.collapseCost < collapseCostLimit) {\r\n                    if (!collapse(v)) {\r\n                        System.out.printf(\"Couldn't collapse vertex%s%n\", v.index);\r\n                    }\r\n                } else {\r\n                    break;\r\n                }\r\n                tricount = triangleList.size() - nbCollapsedTri;\r\n            }\r\n            boolean outSkipped = (lastBakeVertexCount == tricount);\r\n            if (!outSkipped) {\r\n                lastBakeVertexCount = tricount;\r\n                lods[curLod + 1] = makeLod(mesh);\r\n                numBakedLods++;\r\n            }\r\n        }\r\n        if (numBakedLods <= lodCount) {\r\n            VertexBuffer[] bakedLods = new VertexBuffer[numBakedLods];\r\n            System.arraycopy(lods, 0, bakedLods, 0, numBakedLods);\r\n            return bakedLods;\r\n        } else {\r\n            return lods;\r\n        }\r\n    }\r\n\r\n  private float computeEdgeCollapseCost(Vertex src, Edge dstEdge) {\r\n        // This is based on Ogre's collapse cost calculation algorithm.\r\n\r\n        Vertex dest = dstEdge.destination;\r\n\r\n        // Check for singular triangle destruction\r\n        // If src and dest both only have 1 triangle (and it must be a shared one)\r\n        // then this would destroy the shape, so don't do this\r\n        if (src.triangles.size() == 1 && dest.triangles.size() == 1) {\r\n            return NEVER_COLLAPSE_COST;\r\n        }\r\n\r\n        // Degenerate case check\r\n        // Are we going to invert a face normal of one of the neighbouring faces?\r\n        // Can occur when we have a very small remaining edge and collapse crosses it\r\n        // Look for a face normal changing by > 90 degrees\r\n        for (Triangle triangle : src.triangles) {\r\n            // Ignore the deleted faces (those including src & dest)\r\n            if (!triangle.hasVertex(dest)) {\r\n                // Test the new face normal\r\n                Vertex pv0, pv1, pv2;\r\n\r\n                // Replace src with dest wherever it is\r\n                pv0 = (triangle.vertex[0] == src) ? dest : triangle.vertex[0];\r\n                pv1 = (triangle.vertex[1] == src) ? dest : triangle.vertex[1];\r\n                pv2 = (triangle.vertex[2] == src) ? dest : triangle.vertex[2];\r\n\r\n                // Cross-product 2 edges\r\n                tmpV1.set(pv1.position).subtractLocal(pv0.position);\r\n                tmpV2.set(pv2.position).subtractLocal(pv1.position);\r\n\r\n                //computing the normal\r\n                Vector3f newNormal = tmpV1.crossLocal(tmpV2);\r\n                newNormal.normalizeLocal();\r\n\r\n                // Dot old and new face normal\r\n                // If < 0 then more than 90 degree difference\r\n                if (newNormal.dot(triangle.normal) < 0.0f) {\r\n                    // Don't do it!\r\n                    return NEVER_COLLAPSE_COST;\r\n                }\r\n            }\r\n        }\r\n\r\n        float cost;\r\n\r\n        // Special cases\r\n        // If we're looking at a border vertex\r\n        if (isBorderVertex(src)) {\r\n            if (dstEdge.refCount > 1) {\r\n                // src is on a border, but the src-dest edge has more than one tri on it\r\n                // So it must be collapsing inwards\r\n                // Mark as very high-value cost\r\n                // curvature = 1.0f;\r\n                cost = 1.0f;\r\n            } else {\r\n                // Collapsing ALONG a border\r\n                // We can't use curvature to measure the effect on the model\r\n                // Instead, see what effect it has on 'pulling' the other border edges\r\n                // The more colinear, the less effect it will have\r\n                // So measure the 'kinkiness' (for want of a better term)\r\n\r\n                // Find the only triangle using this edge.\r\n                // PMTriangle* triangle = findSideTriangle(src, dst);\r\n\r\n                cost = 0.0f;\r\n                Vector3f collapseEdge = tmpV1.set(src.position).subtractLocal(dest.position);\r\n                collapseEdge.normalizeLocal();\r\n\r\n                for (Edge edge : src.edges) {\r\n\r\n                    Vertex neighbor = edge.destination;\r\n                    //reference check intended\r\n                    if (neighbor != dest && edge.refCount == 1) {\r\n                        Vector3f otherBorderEdge = tmpV2.set(src.position).subtractLocal(neighbor.position);\r\n                        otherBorderEdge.normalizeLocal();\r\n                        // This time, the nearer the dot is to -1, the better, because that means\r\n                        // the edges are opposite each other, therefore less kinkiness\r\n                        // Scale into [0..1]\r\n                        float kinkiness = (otherBorderEdge.dot(collapseEdge) + 1.002f) * 0.5f;\r\n                        cost = Math.max(cost, kinkiness);\r\n                    }\r\n                }\r\n            }\r\n        } else { // not a border\r\n\r\n            // Standard inner vertex\r\n            // Calculate curvature\r\n            // use the triangle facing most away from the sides\r\n            // to determine our curvature term\r\n            // Iterate over src's faces again\r\n            cost = 0.001f;\r\n\r\n            Triangle[] triangles = this.triangles;\r\n            if (triangles == null || triangles.length < src.triangles.size()) {\r\n                triangles = new Triangle[src.triangles.size() + 16];\r\n                this.triangles = triangles;\r\n            }\r\n            int count = 0;\r\n            for (Triangle triangle2 : src.triangles) {\r\n                if (triangle2.hasVertex(dest)) {\r\n                    triangles[count++] = triangle2;\r\n                }\r\n            }\r\n\r\n            for (Triangle triangle : src.triangles) {\r\n                float mincurv = 1.0f; // curve for face i and closer side to it\r\n\r\n                for (int index = 0; index < count; index++) {\r\n                    Triangle triangle2 = triangles[index];\r\n\r\n                    // Dot product of face normal gives a good delta angle\r\n                    float dotprod = triangle.normal.dot(triangle2.normal);\r\n                    // NB we do (1-..) to invert curvature where 1 is high curvature [0..1]\r\n                    // Whilst dot product is high when angle difference is low\r\n                    mincurv = Math.min(mincurv, (1.002f - dotprod) * 0.5f);\r\n                }\r\n                cost = Math.max(cost, mincurv);\r\n            }\r\n        }\r\n\r\n        // check for texture seam ripping\r\n        if (src.isSeam) {\r\n            if (!dest.isSeam) {\r\n                cost += meshBoundingSphereRadius;\r\n            } else {\r\n                cost += meshBoundingSphereRadius * 0.5;\r\n            }\r\n        }\r\n\r\n        //   assert (cost >= 0);\r\n\r\n        return cost * src.position.distanceSquared(dest.position);\r\n    }\r\n\r\n    private static boolean find(Collection<Vertex> set, Vertex v) {\r\n        return set.contains(v);\r\n    }\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/750","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/750/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/750/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/750/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/750","id":261897560,"number":750,"title":"fix issue #749: NPE in CollideIgnoreTransformTest","user":{"login":"stephengold","id":2287609,"avatar_url":"https://avatars1.githubusercontent.com/u/2287609?v=4","gravatar_id":"","url":"https://api.github.com/users/stephengold","html_url":"https://github.com/stephengold","followers_url":"https://api.github.com/users/stephengold/followers","following_url":"https://api.github.com/users/stephengold/following{/other_user}","gists_url":"https://api.github.com/users/stephengold/gists{/gist_id}","starred_url":"https://api.github.com/users/stephengold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stephengold/subscriptions","organizations_url":"https://api.github.com/users/stephengold/orgs","repos_url":"https://api.github.com/users/stephengold/repos","events_url":"https://api.github.com/users/stephengold/events{/privacy}","received_events_url":"https://api.github.com/users/stephengold/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-10-01T07:15:14Z","updated_at":"2017-10-01T07:22:38Z","closed_at":"2017-10-01T07:22:38Z","author_association":"CONTRIBUTOR","pull_request":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/pulls/750","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/750","diff_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/750.diff","patch_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/750.patch"},"body":"I applied the patch provided by kruchinin-pavel","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/749","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/749/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/749/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/749/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/issues/749","id":261817384,"number":749,"title":"CollideIgnoreTransformTest.testPhantomTriangles: NPE","user":{"login":"kruchinin-pavel","id":5062078,"avatar_url":"https://avatars3.githubusercontent.com/u/5062078?v=4","gravatar_id":"","url":"https://api.github.com/users/kruchinin-pavel","html_url":"https://github.com/kruchinin-pavel","followers_url":"https://api.github.com/users/kruchinin-pavel/followers","following_url":"https://api.github.com/users/kruchinin-pavel/following{/other_user}","gists_url":"https://api.github.com/users/kruchinin-pavel/gists{/gist_id}","starred_url":"https://api.github.com/users/kruchinin-pavel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kruchinin-pavel/subscriptions","organizations_url":"https://api.github.com/users/kruchinin-pavel/orgs","repos_url":"https://api.github.com/users/kruchinin-pavel/repos","events_url":"https://api.github.com/users/kruchinin-pavel/events{/privacy}","received_events_url":"https://api.github.com/users/kruchinin-pavel/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":{"login":"stephengold","id":2287609,"avatar_url":"https://avatars1.githubusercontent.com/u/2287609?v=4","gravatar_id":"","url":"https://api.github.com/users/stephengold","html_url":"https://github.com/stephengold","followers_url":"https://api.github.com/users/stephengold/followers","following_url":"https://api.github.com/users/stephengold/following{/other_user}","gists_url":"https://api.github.com/users/stephengold/gists{/gist_id}","starred_url":"https://api.github.com/users/stephengold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stephengold/subscriptions","organizations_url":"https://api.github.com/users/stephengold/orgs","repos_url":"https://api.github.com/users/stephengold/repos","events_url":"https://api.github.com/users/stephengold/events{/privacy}","received_events_url":"https://api.github.com/users/stephengold/received_events","type":"User","site_admin":false},"assignees":[{"login":"stephengold","id":2287609,"avatar_url":"https://avatars1.githubusercontent.com/u/2287609?v=4","gravatar_id":"","url":"https://api.github.com/users/stephengold","html_url":"https://github.com/stephengold","followers_url":"https://api.github.com/users/stephengold/followers","following_url":"https://api.github.com/users/stephengold/following{/other_user}","gists_url":"https://api.github.com/users/stephengold/gists{/gist_id}","starred_url":"https://api.github.com/users/stephengold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stephengold/subscriptions","organizations_url":"https://api.github.com/users/stephengold/orgs","repos_url":"https://api.github.com/users/stephengold/repos","events_url":"https://api.github.com/users/stephengold/events{/privacy}","received_events_url":"https://api.github.com/users/stephengold/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2017-09-30T04:33:42Z","updated_at":"2017-10-01T07:25:03Z","closed_at":null,"author_association":"NONE","body":"Fix is attached. I wished i would fix it directly, but too amateur for this repo to work.\r\n[CollideIgnoreTransformTest.NPE.fix.patch.zip](https://github.com/jMonkeyEngine/jmonkeyengine/files/1346117/CollideIgnoreTransformTest.NPE.fix.patch.zip)\r\n","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/748","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/748/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/748/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/748/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/748","id":261190462,"number":748,"title":"FlyByCamera: comments, annotations, & imports; address GitHub issue #697","user":{"login":"stephengold","id":2287609,"avatar_url":"https://avatars1.githubusercontent.com/u/2287609?v=4","gravatar_id":"","url":"https://api.github.com/users/stephengold","html_url":"https://github.com/stephengold","followers_url":"https://api.github.com/users/stephengold/followers","following_url":"https://api.github.com/users/stephengold/following{/other_user}","gists_url":"https://api.github.com/users/stephengold/gists{/gist_id}","starred_url":"https://api.github.com/users/stephengold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stephengold/subscriptions","organizations_url":"https://api.github.com/users/stephengold/orgs","repos_url":"https://api.github.com/users/stephengold/repos","events_url":"https://api.github.com/users/stephengold/events{/privacy}","received_events_url":"https://api.github.com/users/stephengold/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-09-28T04:31:08Z","updated_at":"2017-09-28T06:24:47Z","closed_at":"2017-09-28T06:24:46Z","author_association":"CONTRIBUTOR","pull_request":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/pulls/748","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/748","diff_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/748.diff","patch_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/748.patch"},"body":"In addition to correcting the cut-and-paste error referenced in issue #697, many other shortcomings of the inline documentation were corrected. Two @Overrides annotations were added. A star import was expanded into multiple statements.","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/747","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/747/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/747/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/747/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/747","id":260954832,"number":747,"title":"add an empty constructor to Grid mesh","user":{"login":"rvandoosselaer","id":11334424,"avatar_url":"https://avatars3.githubusercontent.com/u/11334424?v=4","gravatar_id":"","url":"https://api.github.com/users/rvandoosselaer","html_url":"https://github.com/rvandoosselaer","followers_url":"https://api.github.com/users/rvandoosselaer/followers","following_url":"https://api.github.com/users/rvandoosselaer/following{/other_user}","gists_url":"https://api.github.com/users/rvandoosselaer/gists{/gist_id}","starred_url":"https://api.github.com/users/rvandoosselaer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvandoosselaer/subscriptions","organizations_url":"https://api.github.com/users/rvandoosselaer/orgs","repos_url":"https://api.github.com/users/rvandoosselaer/repos","events_url":"https://api.github.com/users/rvandoosselaer/events{/privacy}","received_events_url":"https://api.github.com/users/rvandoosselaer/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-09-27T12:26:46Z","updated_at":"2017-09-27T23:07:34Z","closed_at":null,"author_association":"CONTRIBUTOR","pull_request":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/pulls/747","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/747","diff_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/747.diff","patch_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/747.patch"},"body":"Add an empty constructor with logical values for serialization purposes. (e.g. the BinaryImporter has issues instantiating the Grid mesh.)\r\n[binaryImporter_stacktrace.txt](https://github.com/jMonkeyEngine/jmonkeyengine/files/1337060/binaryImporter_stacktrace.txt)\r\n","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/746","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/746/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/746/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/746/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/746","id":260041232,"number":746,"title":"Geometry: set worldTransform to identity if ignoreTranform is true","user":{"login":"stephengold","id":2287609,"avatar_url":"https://avatars1.githubusercontent.com/u/2287609?v=4","gravatar_id":"","url":"https://api.github.com/users/stephengold","html_url":"https://github.com/stephengold","followers_url":"https://api.github.com/users/stephengold/followers","following_url":"https://api.github.com/users/stephengold/following{/other_user}","gists_url":"https://api.github.com/users/stephengold/gists{/gist_id}","starred_url":"https://api.github.com/users/stephengold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stephengold/subscriptions","organizations_url":"https://api.github.com/users/stephengold/orgs","repos_url":"https://api.github.com/users/stephengold/repos","events_url":"https://api.github.com/users/stephengold/events{/privacy}","received_events_url":"https://api.github.com/users/stephengold/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-09-23T21:55:18Z","updated_at":"2017-09-27T19:22:39Z","closed_at":"2017-09-27T19:22:39Z","author_association":"CONTRIBUTOR","pull_request":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/pulls/746","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/746","diff_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/746.diff","patch_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/746.patch"},"body":"This PR changes the semantics of localToWorld() and worldToLocal() to identities in the case that ignoreTransform is set to true on the Geometry. I think this is more useful than applying a transform that isn't actually used in visualization. Also getWorldRotation(), getWorldScale(), getWorldTransform() and getWorldRotation() will return identities if ignoreTransform is set, which is consistent with localToWorld() if not perfectly intuitive.\r\n\r\nI've confirmed that this change doesn't break CollideIgnoreTransformTest.  By itself, it doesn't fix issue #742 nor issue #743, though it should make both those issues slightly easier to fix.","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/745","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/745/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/745/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/745/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/745","id":259873361,"number":745,"title":"testcase & fix for issue #744: collideWith() versus setIgnoreTransform()","user":{"login":"stephengold","id":2287609,"avatar_url":"https://avatars1.githubusercontent.com/u/2287609?v=4","gravatar_id":"","url":"https://api.github.com/users/stephengold","html_url":"https://github.com/stephengold","followers_url":"https://api.github.com/users/stephengold/followers","following_url":"https://api.github.com/users/stephengold/following{/other_user}","gists_url":"https://api.github.com/users/stephengold/gists{/gist_id}","starred_url":"https://api.github.com/users/stephengold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stephengold/subscriptions","organizations_url":"https://api.github.com/users/stephengold/orgs","repos_url":"https://api.github.com/users/stephengold/repos","events_url":"https://api.github.com/users/stephengold/events{/privacy}","received_events_url":"https://api.github.com/users/stephengold/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-09-22T16:44:14Z","updated_at":"2017-09-22T17:19:34Z","closed_at":"2017-09-22T17:19:34Z","author_association":"CONTRIBUTOR","pull_request":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/pulls/745","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/745","diff_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/745.diff","patch_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/745.patch"},"body":"Since there's a simple fix, it seems worth fixing.\r\n\r\nThis will change the behavior of Spatial.worldToLocal() and Spatial.localToWorld() when the Spatial is an  ignoreTransforms Geometry, but this strikes me as a positive change, making these methods' behavior more intuitive.","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/744","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/744/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/744/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/744/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/issues/744","id":259852173,"number":744,"title":"Geometry.collideWith() is incompatible with ignoreTransform geometries","user":{"login":"stephengold","id":2287609,"avatar_url":"https://avatars1.githubusercontent.com/u/2287609?v=4","gravatar_id":"","url":"https://api.github.com/users/stephengold","html_url":"https://github.com/stephengold","followers_url":"https://api.github.com/users/stephengold/followers","following_url":"https://api.github.com/users/stephengold/following{/other_user}","gists_url":"https://api.github.com/users/stephengold/gists{/gist_id}","starred_url":"https://api.github.com/users/stephengold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stephengold/subscriptions","organizations_url":"https://api.github.com/users/stephengold/orgs","repos_url":"https://api.github.com/users/stephengold/repos","events_url":"https://api.github.com/users/stephengold/events{/privacy}","received_events_url":"https://api.github.com/users/stephengold/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"stephengold","id":2287609,"avatar_url":"https://avatars1.githubusercontent.com/u/2287609?v=4","gravatar_id":"","url":"https://api.github.com/users/stephengold","html_url":"https://github.com/stephengold","followers_url":"https://api.github.com/users/stephengold/followers","following_url":"https://api.github.com/users/stephengold/following{/other_user}","gists_url":"https://api.github.com/users/stephengold/gists{/gist_id}","starred_url":"https://api.github.com/users/stephengold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stephengold/subscriptions","organizations_url":"https://api.github.com/users/stephengold/orgs","repos_url":"https://api.github.com/users/stephengold/repos","events_url":"https://api.github.com/users/stephengold/events{/privacy}","received_events_url":"https://api.github.com/users/stephengold/received_events","type":"User","site_admin":false},"assignees":[{"login":"stephengold","id":2287609,"avatar_url":"https://avatars1.githubusercontent.com/u/2287609?v=4","gravatar_id":"","url":"https://api.github.com/users/stephengold","html_url":"https://github.com/stephengold","followers_url":"https://api.github.com/users/stephengold/followers","following_url":"https://api.github.com/users/stephengold/following{/other_user}","gists_url":"https://api.github.com/users/stephengold/gists{/gist_id}","starred_url":"https://api.github.com/users/stephengold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stephengold/subscriptions","organizations_url":"https://api.github.com/users/stephengold/orgs","repos_url":"https://api.github.com/users/stephengold/repos","events_url":"https://api.github.com/users/stephengold/events{/privacy}","received_events_url":"https://api.github.com/users/stephengold/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2017-09-22T15:27:45Z","updated_at":"2017-09-23T19:34:05Z","closed_at":"2017-09-22T18:02:08Z","author_association":"CONTRIBUTOR","body":"When a Geometry has ignoreTransform=true, the mesh-collision code fails to take this into account, which can cause Geometry.collideWith() to return incorrect results.\r\n\r\nIn the test case below, zero collisions are detected where there should be 4 collisions with the red box. (To verify this, comment out the setLocalTranslation() and setIgnoreTransform() calls.)\r\n\r\n    package mygame;\r\n\r\n    import com.jme3.app.SimpleApplication;\r\n    import com.jme3.collision.CollisionResults;\r\n    import com.jme3.material.Material;\r\n    import com.jme3.math.Ray;\r\n    import com.jme3.math.Vector3f;\r\n    import com.jme3.scene.Geometry;\r\n    import com.jme3.scene.shape.Box;\r\n\r\n    public class Main extends SimpleApplication {\r\n\r\n    public static void main(String[] args) {\r\n        Main app = new Main();\r\n        app.start();\r\n    }\r\n\r\n    @Override\r\n    public void simpleInitApp() {\r\n        Geometry geom = new Geometry(\"Box\", new Box(1, 1, 1));\r\n        Material m = assetManager.loadMaterial(\"Common/Materials/RedColor.j3m\");\r\n        geom.setMaterial(m);\r\n\r\n        geom.setLocalTranslation(0f, 3f, 0f);\r\n        geom.setIgnoreTransform(true);\r\n\r\n        rootNode.attachChild(geom);\r\n        rootNode.updateLogicalState(0.1f);\r\n        rootNode.updateGeometricState();\r\n\r\n        Ray ray = new Ray(/* origin */new Vector3f(0f, 0f, 10f),\r\n                /* direction */ new Vector3f(0f, 0f, -1f));\r\n        CollisionResults results = new CollisionResults();\r\n        rootNode.collideWith(ray, results);\r\n\r\n        System.out.printf(\"number of collisions = %d%n\", results.size());\r\n        System.exit(0);\r\n    }\r\n    }","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/743","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/743/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/743/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/743/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/issues/743","id":259713737,"number":743,"title":"SkeletonDebugger is not compatible with ignoreTransform geometries","user":{"login":"stephengold","id":2287609,"avatar_url":"https://avatars1.githubusercontent.com/u/2287609?v=4","gravatar_id":"","url":"https://api.github.com/users/stephengold","html_url":"https://github.com/stephengold","followers_url":"https://api.github.com/users/stephengold/followers","following_url":"https://api.github.com/users/stephengold/following{/other_user}","gists_url":"https://api.github.com/users/stephengold/gists{/gist_id}","starred_url":"https://api.github.com/users/stephengold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stephengold/subscriptions","organizations_url":"https://api.github.com/users/stephengold/orgs","repos_url":"https://api.github.com/users/stephengold/repos","events_url":"https://api.github.com/users/stephengold/events{/privacy}","received_events_url":"https://api.github.com/users/stephengold/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-09-22T06:16:44Z","updated_at":"2017-09-22T06:16:44Z","closed_at":null,"author_association":"CONTRIBUTOR","body":"When the animated Geometry has ignoreTransform=true, the SkeletonDebugger fails to take this into account, causing the skeleton visualization to appear in the wrong location.\r\n\r\nTo see this issue in action, add the following code to TestAnimBlendBug:\r\n\r\nimport com.jme3.scene.Geometry;\r\n...\r\n((Geometry)model1.getChild(0)).setIgnoreTransform(true);\r\n\r\nDiscovered in 'master' branch at Git hash 66137d5.","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/742","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/742/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/742/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/742/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/issues/742","id":259710190,"number":742,"title":"attachment nodes are not compatible with ignoreTransform geometries","user":{"login":"stephengold","id":2287609,"avatar_url":"https://avatars1.githubusercontent.com/u/2287609?v=4","gravatar_id":"","url":"https://api.github.com/users/stephengold","html_url":"https://github.com/stephengold","followers_url":"https://api.github.com/users/stephengold/followers","following_url":"https://api.github.com/users/stephengold/following{/other_user}","gists_url":"https://api.github.com/users/stephengold/gists{/gist_id}","starred_url":"https://api.github.com/users/stephengold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stephengold/subscriptions","organizations_url":"https://api.github.com/users/stephengold/orgs","repos_url":"https://api.github.com/users/stephengold/repos","events_url":"https://api.github.com/users/stephengold/events{/privacy}","received_events_url":"https://api.github.com/users/stephengold/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-09-22T05:52:05Z","updated_at":"2017-09-22T05:52:05Z","closed_at":null,"author_association":"CONTRIBUTOR","body":"When the animated Geometry has ignoreTransform=true, attachment nodes fail to take this into account, causing the attached object to appear in the wrong location.\r\n\r\nTo see this issue in action, add the following line of code to TestAttachmentsNode:\r\n\r\n((Geometry)((Node)model).getChild(0)).setIgnoreTransform(true);\r\n\r\nDiscovered in 'master' branch at Git hash 66137d5.","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/741","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/741/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/741/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/741/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/issues/741","id":259708713,"number":741,"title":"J3MLoader warnings while loading glTF sample models","user":{"login":"stephengold","id":2287609,"avatar_url":"https://avatars1.githubusercontent.com/u/2287609?v=4","gravatar_id":"","url":"https://api.github.com/users/stephengold","html_url":"https://github.com/stephengold","followers_url":"https://api.github.com/users/stephengold/followers","following_url":"https://api.github.com/users/stephengold/following{/other_user}","gists_url":"https://api.github.com/users/stephengold/gists{/gist_id}","starred_url":"https://api.github.com/users/stephengold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stephengold/subscriptions","organizations_url":"https://api.github.com/users/stephengold/orgs","repos_url":"https://api.github.com/users/stephengold/repos","events_url":"https://api.github.com/users/stephengold/events{/privacy}","received_events_url":"https://api.github.com/users/stephengold/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"Nehon","id":3286588,"avatar_url":"https://avatars3.githubusercontent.com/u/3286588?v=4","gravatar_id":"","url":"https://api.github.com/users/Nehon","html_url":"https://github.com/Nehon","followers_url":"https://api.github.com/users/Nehon/followers","following_url":"https://api.github.com/users/Nehon/following{/other_user}","gists_url":"https://api.github.com/users/Nehon/gists{/gist_id}","starred_url":"https://api.github.com/users/Nehon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Nehon/subscriptions","organizations_url":"https://api.github.com/users/Nehon/orgs","repos_url":"https://api.github.com/users/Nehon/repos","events_url":"https://api.github.com/users/Nehon/events{/privacy}","received_events_url":"https://api.github.com/users/Nehon/received_events","type":"User","site_admin":false},"assignees":[{"login":"Nehon","id":3286588,"avatar_url":"https://avatars3.githubusercontent.com/u/3286588?v=4","gravatar_id":"","url":"https://api.github.com/users/Nehon","html_url":"https://github.com/Nehon","followers_url":"https://api.github.com/users/Nehon/followers","following_url":"https://api.github.com/users/Nehon/following{/other_user}","gists_url":"https://api.github.com/users/Nehon/gists{/gist_id}","starred_url":"https://api.github.com/users/Nehon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Nehon/subscriptions","organizations_url":"https://api.github.com/users/Nehon/orgs","repos_url":"https://api.github.com/users/Nehon/repos","events_url":"https://api.github.com/users/Nehon/events{/privacy}","received_events_url":"https://api.github.com/users/Nehon/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2017-09-22T05:41:04Z","updated_at":"2017-09-25T22:37:36Z","closed_at":"2017-09-25T21:03:39Z","author_association":"CONTRIBUTOR","body":"Using recent 'master' builds of JME3 to load various models from https://github.com/KhronosGroup/glTF-Sample-Models/tree/master/2.0 (including \"2CylinderEngine/glTF/2CylinderEngine.gltf\") I get warnings similar to this:\r\n\r\nSep 07, 2017 11:28:19 PM com.jme3.material.plugins.J3MLoader readDefine\r\nWARNING: In technique 'Glow':\r\nDefine 'HAS_GLOWMAP' mapped to non-existent material parameter 'GlowMap', ignoring.\r\nSep 07, 2017 11:28:19 PM com.jme3.material.plugins.J3MLoader readDefine\r\nWARNING: In technique 'Glow':\r\nDefine 'HAS_GLOWCOLOR' mapped to non-existent material parameter 'GlowColor', ignoring.","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/740","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/740/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/740/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/740/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/issues/740","id":258803562,"number":740,"title":"TestRagdollCharacter crashes","user":{"login":"MeFisto94","id":12577813,"avatar_url":"https://avatars0.githubusercontent.com/u/12577813?v=4","gravatar_id":"","url":"https://api.github.com/users/MeFisto94","html_url":"https://github.com/MeFisto94","followers_url":"https://api.github.com/users/MeFisto94/followers","following_url":"https://api.github.com/users/MeFisto94/following{/other_user}","gists_url":"https://api.github.com/users/MeFisto94/gists{/gist_id}","starred_url":"https://api.github.com/users/MeFisto94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MeFisto94/subscriptions","organizations_url":"https://api.github.com/users/MeFisto94/orgs","repos_url":"https://api.github.com/users/MeFisto94/repos","events_url":"https://api.github.com/users/MeFisto94/events{/privacy}","received_events_url":"https://api.github.com/users/MeFisto94/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-09-19T12:32:21Z","updated_at":"2017-09-25T19:43:21Z","closed_at":null,"author_association":"MEMBER","body":"Hey Guys,\r\n`TestBoneRagdoll` works like a charm, however `TestRagdollCharacter` leads to a native-bullet crash.\r\n\r\n`Linux 4.8.0 on Kubuntu 16.10`\r\n```\r\nINFORMATION: Running on jMonkeyEngine 3.2-6295\r\n * Branch: master\r\n * Git Hash: 0bc6c64\r\n * Build Date: 2017-09-09\r\n```\r\n\r\n```\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007f165f296c00, pid=18841, tid=0x00007f165ec22700\r\n#\r\n# JRE version: Java(TM) SE Runtime Environment (8.0_131-b11) (build 1.8.0_131-b11)\r\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (25.131-b11 mixed mode linux-amd64 compressed oops)\r\n# Problematic frame:\r\n# C  [libbulletjme.so+0xebc00]  btConvexShape::localGetSupportVertexWithoutMarginNonVirtual(btVector3 const&) const+0x2f0\r\n#\r\n# An error report file with more information is saved as:\r\n# hs_err_pid18841.log\r\n```\r\n\r\nIt's not `HEAD` but I did a quick git diff we shows there was nothing bullet related in between.","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/739","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/739/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/739/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/739/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/739","id":258739051,"number":739,"title":"fixed asset linked node to reuse shared data between loaded models.","user":{"login":"JavaSaBr","id":7160534,"avatar_url":"https://avatars1.githubusercontent.com/u/7160534?v=4","gravatar_id":"","url":"https://api.github.com/users/JavaSaBr","html_url":"https://github.com/JavaSaBr","followers_url":"https://api.github.com/users/JavaSaBr/followers","following_url":"https://api.github.com/users/JavaSaBr/following{/other_user}","gists_url":"https://api.github.com/users/JavaSaBr/gists{/gist_id}","starred_url":"https://api.github.com/users/JavaSaBr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JavaSaBr/subscriptions","organizations_url":"https://api.github.com/users/JavaSaBr/orgs","repos_url":"https://api.github.com/users/JavaSaBr/repos","events_url":"https://api.github.com/users/JavaSaBr/events{/privacy}","received_events_url":"https://api.github.com/users/JavaSaBr/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2017-09-19T08:36:47Z","updated_at":"2017-10-02T00:48:39Z","closed_at":"2017-10-02T00:48:39Z","author_association":"CONTRIBUTOR","pull_request":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/pulls/739","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/739","diff_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/739.diff","patch_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/739.patch"},"body":"I looked at the problem more deeply which was described by @NemesisMate here:\r\nhttps://hub.jmonkeyengine.org/t/linkedassets-arent-sharing-meshes-when-imported/38494?u=nemesismate\r\nSo I think we need to use asset manager to load children of the asset linked node, but at this moment, BinaryImporter doesn't process correctly recursive loading models in this case, because the importer has a state which was inconsistent in my tests. I offer one of some solutions of this problem, of course, core team can have more correctly vision of this.","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/738","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/738/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/738/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/738/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/738","id":258721270,"number":738,"title":"Fixed file lock leaks in GLSLLoader.","user":{"login":"JavaSaBr","id":7160534,"avatar_url":"https://avatars1.githubusercontent.com/u/7160534?v=4","gravatar_id":"","url":"https://api.github.com/users/JavaSaBr","html_url":"https://github.com/JavaSaBr","followers_url":"https://api.github.com/users/JavaSaBr/followers","following_url":"https://api.github.com/users/JavaSaBr/following{/other_user}","gists_url":"https://api.github.com/users/JavaSaBr/gists{/gist_id}","starred_url":"https://api.github.com/users/JavaSaBr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JavaSaBr/subscriptions","organizations_url":"https://api.github.com/users/JavaSaBr/orgs","repos_url":"https://api.github.com/users/JavaSaBr/repos","events_url":"https://api.github.com/users/JavaSaBr/events{/privacy}","received_events_url":"https://api.github.com/users/JavaSaBr/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-09-19T07:25:53Z","updated_at":"2017-09-21T19:33:13Z","closed_at":"2017-09-21T19:33:13Z","author_association":"CONTRIBUTOR","pull_request":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/pulls/738","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/738","diff_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/738.diff","patch_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/738.patch"},"body":"We didn't close readers of shader streams in the GLSLLoader. It provided some file lock leaks and then I couldn't change these files on windows without restarting jME application.","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/738/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/737","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/737/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/737/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/737/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/737","id":258691065,"number":737,"title":"fixed NPE.","user":{"login":"JavaSaBr","id":7160534,"avatar_url":"https://avatars1.githubusercontent.com/u/7160534?v=4","gravatar_id":"","url":"https://api.github.com/users/JavaSaBr","html_url":"https://github.com/JavaSaBr","followers_url":"https://api.github.com/users/JavaSaBr/followers","following_url":"https://api.github.com/users/JavaSaBr/following{/other_user}","gists_url":"https://api.github.com/users/JavaSaBr/gists{/gist_id}","starred_url":"https://api.github.com/users/JavaSaBr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JavaSaBr/subscriptions","organizations_url":"https://api.github.com/users/JavaSaBr/orgs","repos_url":"https://api.github.com/users/JavaSaBr/repos","events_url":"https://api.github.com/users/JavaSaBr/events{/privacy}","received_events_url":"https://api.github.com/users/JavaSaBr/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-09-19T04:13:43Z","updated_at":"2017-09-21T19:27:19Z","closed_at":"2017-09-21T19:27:19Z","author_association":"CONTRIBUTOR","pull_request":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/pulls/737","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/737","diff_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/737.diff","patch_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/737.patch"},"body":"Fixed NPE during saving MatParamOverride. I found that MatParamOverride can have a null value in some cases. For example, if you look at the constructor of SkeletonControl, you can see that this control creates two MPO with null values by default.\r\n```\r\n\r\n        this.numberOfBonesParam = new MatParamOverride(VarType.Int, \"NumberOfBones\", null);\r\n        this.boneMatricesParam = new MatParamOverride(VarType.Matrix4Array, \"BoneMatrices\", null);\r\n```","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/736","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/736/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/736/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/736/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/736","id":258359349,"number":736,"title":"Upgrade to Gradle 4.1","user":{"login":"shadowislord","id":6314496,"avatar_url":"https://avatars1.githubusercontent.com/u/6314496?v=4","gravatar_id":"","url":"https://api.github.com/users/shadowislord","html_url":"https://github.com/shadowislord","followers_url":"https://api.github.com/users/shadowislord/followers","following_url":"https://api.github.com/users/shadowislord/following{/other_user}","gists_url":"https://api.github.com/users/shadowislord/gists{/gist_id}","starred_url":"https://api.github.com/users/shadowislord/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shadowislord/subscriptions","organizations_url":"https://api.github.com/users/shadowislord/orgs","repos_url":"https://api.github.com/users/shadowislord/repos","events_url":"https://api.github.com/users/shadowislord/events{/privacy}","received_events_url":"https://api.github.com/users/shadowislord/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-09-18T02:56:35Z","updated_at":"2017-09-18T02:56:35Z","closed_at":null,"author_association":"OWNER","pull_request":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/pulls/736","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/736","diff_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/736.diff","patch_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/736.patch"},"body":"","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/735","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/735/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/735/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/735/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/735","id":258295160,"number":735,"title":"Some fixes in materail def things.","user":{"login":"JavaSaBr","id":7160534,"avatar_url":"https://avatars1.githubusercontent.com/u/7160534?v=4","gravatar_id":"","url":"https://api.github.com/users/JavaSaBr","html_url":"https://github.com/JavaSaBr","followers_url":"https://api.github.com/users/JavaSaBr/followers","following_url":"https://api.github.com/users/JavaSaBr/following{/other_user}","gists_url":"https://api.github.com/users/JavaSaBr/gists{/gist_id}","starred_url":"https://api.github.com/users/JavaSaBr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JavaSaBr/subscriptions","organizations_url":"https://api.github.com/users/JavaSaBr/orgs","repos_url":"https://api.github.com/users/JavaSaBr/repos","events_url":"https://api.github.com/users/JavaSaBr/events{/privacy}","received_events_url":"https://api.github.com/users/JavaSaBr/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2017-09-17T11:00:23Z","updated_at":"2017-09-17T16:38:59Z","closed_at":null,"author_association":"CONTRIBUTOR","pull_request":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/pulls/735","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/735","diff_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/735.diff","patch_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/735.patch"},"body":"1. Small fixes with indents\r\n2. The important fix with working of varying variables.","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/734","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/734/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/734/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/734/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/734","id":258250845,"number":734,"title":"test and fix for issue #651 (inverted rotation in Sky.vert)","user":{"login":"stephengold","id":2287609,"avatar_url":"https://avatars1.githubusercontent.com/u/2287609?v=4","gravatar_id":"","url":"https://api.github.com/users/stephengold","html_url":"https://github.com/stephengold","followers_url":"https://api.github.com/users/stephengold/followers","following_url":"https://api.github.com/users/stephengold/following{/other_user}","gists_url":"https://api.github.com/users/stephengold/gists{/gist_id}","starred_url":"https://api.github.com/users/stephengold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stephengold/subscriptions","organizations_url":"https://api.github.com/users/stephengold/orgs","repos_url":"https://api.github.com/users/stephengold/repos","events_url":"https://api.github.com/users/stephengold/events{/privacy}","received_events_url":"https://api.github.com/users/stephengold/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-09-16T18:49:19Z","updated_at":"2017-09-17T12:41:56Z","closed_at":"2017-09-17T12:41:56Z","author_association":"CONTRIBUTOR","pull_request":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/pulls/734","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/734","diff_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/734.diff","patch_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/734.patch"},"body":"The fix is simple: use WorldMatrixInverse instead of WorldMatrix to transform the normal vector in the vertex shader.","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/733","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/733/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/733/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/733/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/733","id":258225326,"number":733,"title":"Fixes #731: BatchNode now support batching geometries without normals","user":{"login":"NemesisMate","id":2411239,"avatar_url":"https://avatars3.githubusercontent.com/u/2411239?v=4","gravatar_id":"","url":"https://api.github.com/users/NemesisMate","html_url":"https://github.com/NemesisMate","followers_url":"https://api.github.com/users/NemesisMate/followers","following_url":"https://api.github.com/users/NemesisMate/following{/other_user}","gists_url":"https://api.github.com/users/NemesisMate/gists{/gist_id}","starred_url":"https://api.github.com/users/NemesisMate/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NemesisMate/subscriptions","organizations_url":"https://api.github.com/users/NemesisMate/orgs","repos_url":"https://api.github.com/users/NemesisMate/repos","events_url":"https://api.github.com/users/NemesisMate/events{/privacy}","received_events_url":"https://api.github.com/users/NemesisMate/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2017-09-16T11:11:05Z","updated_at":"2017-09-16T13:02:22Z","closed_at":"2017-09-16T12:30:25Z","author_association":"CONTRIBUTOR","pull_request":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/pulls/733","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/733","diff_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/733.diff","patch_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/733.patch"},"body":"","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/732","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/732/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/732/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/732/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/issues/732","id":258133794,"number":732,"title":"When the window size is bigger than the monitor's size, guiNode's translations mess up","user":{"login":"realManix","id":29748510,"avatar_url":"https://avatars0.githubusercontent.com/u/29748510?v=4","gravatar_id":"","url":"https://api.github.com/users/realManix","html_url":"https://github.com/realManix","followers_url":"https://api.github.com/users/realManix/followers","following_url":"https://api.github.com/users/realManix/following{/other_user}","gists_url":"https://api.github.com/users/realManix/gists{/gist_id}","starred_url":"https://api.github.com/users/realManix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/realManix/subscriptions","organizations_url":"https://api.github.com/users/realManix/orgs","repos_url":"https://api.github.com/users/realManix/repos","events_url":"https://api.github.com/users/realManix/events{/privacy}","received_events_url":"https://api.github.com/users/realManix/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-09-15T18:58:50Z","updated_at":"2017-09-16T05:22:09Z","closed_at":null,"author_association":"NONE","body":"jMonkeyEngine version: 3.2.0 alpha\r\n\r\nFor example, my desktop's monitor is 1980x1080, and when I set the window's height around 1060 or higher, the translations of guiNode's children are messed up. They work fine on full-screen mode (1980x1080).\r\nguiNode's children whose y values are small are fine, but children with higher y values aren't placed properly.\r\nThe simplest way to test this would be to place something like BitmapText at the top of the screen (like this: [https://anonimage.net/image/hHiwaZS5Qm](https://anonimage.net/image/hHiwaZS5Qm)) and it will be displayed properly until the window gets too tall for your screen (e.g., 1920x1080 windowed, due to the frame), for me the text got cut off.\r\n\r\nI know that it probably isn't a good idea for the user to set the window size too big for their monitor, but I still don't want it to produce bugs like this. Hopefully someone more skilful than I could fix this.\r\n","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/731","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/731/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/731/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/731/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/issues/731","id":258030518,"number":731,"title":"BatchNode.java: NullPointer with Mesh without normals","user":{"login":"TehLeo","id":14963891,"avatar_url":"https://avatars1.githubusercontent.com/u/14963891?v=4","gravatar_id":"","url":"https://api.github.com/users/TehLeo","html_url":"https://github.com/TehLeo","followers_url":"https://api.github.com/users/TehLeo/followers","following_url":"https://api.github.com/users/TehLeo/following{/other_user}","gists_url":"https://api.github.com/users/TehLeo/gists{/gist_id}","starred_url":"https://api.github.com/users/TehLeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TehLeo/subscriptions","organizations_url":"https://api.github.com/users/TehLeo/orgs","repos_url":"https://api.github.com/users/TehLeo/repos","events_url":"https://api.github.com/users/TehLeo/events{/privacy}","received_events_url":"https://api.github.com/users/TehLeo/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-09-15T12:56:40Z","updated_at":"2017-09-16T12:28:33Z","closed_at":"2017-09-16T12:28:33Z","author_association":"CONTRIBUTOR","body":"NullPointer thrown if a mesh without normals is added to BatchNode\r\n```\r\nprotected void updateSubBatch(Geometry bg) {\r\n        Batch batch = batchesByGeom.get(bg);\r\n        if (batch != null) {\r\n            Mesh mesh = batch.geometry.getMesh();\r\n            Mesh origMesh = bg.getMesh();\r\n            VertexBuffer pvb = mesh.getBuffer(VertexBuffer.Type.Position);\r\n            FloatBuffer posBuf = (FloatBuffer) pvb.getData();\r\n            VertexBuffer nvb = mesh.getBuffer(VertexBuffer.Type.Normal);\r\n            FloatBuffer normBuf = (FloatBuffer) nvb.getData();  // <- NPE\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/730","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/730/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/730/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/730/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/730","id":257909586,"number":730,"title":"Fix #456","user":{"login":"shadowislord","id":6314496,"avatar_url":"https://avatars1.githubusercontent.com/u/6314496?v=4","gravatar_id":"","url":"https://api.github.com/users/shadowislord","html_url":"https://github.com/shadowislord","followers_url":"https://api.github.com/users/shadowislord/followers","following_url":"https://api.github.com/users/shadowislord/following{/other_user}","gists_url":"https://api.github.com/users/shadowislord/gists{/gist_id}","starred_url":"https://api.github.com/users/shadowislord/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shadowislord/subscriptions","organizations_url":"https://api.github.com/users/shadowislord/orgs","repos_url":"https://api.github.com/users/shadowislord/repos","events_url":"https://api.github.com/users/shadowislord/events{/privacy}","received_events_url":"https://api.github.com/users/shadowislord/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-09-15T02:30:24Z","updated_at":"2017-09-15T02:30:24Z","closed_at":null,"author_association":"OWNER","pull_request":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/pulls/730","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/730","diff_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/730.diff","patch_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/730.patch"},"body":"When using a `flatDir` repository Gradle is able to copy the dependencies correctly","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/729","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/729/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/729/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/729/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/729","id":257906597,"number":729,"title":"Fix #558","user":{"login":"shadowislord","id":6314496,"avatar_url":"https://avatars1.githubusercontent.com/u/6314496?v=4","gravatar_id":"","url":"https://api.github.com/users/shadowislord","html_url":"https://github.com/shadowislord","followers_url":"https://api.github.com/users/shadowislord/followers","following_url":"https://api.github.com/users/shadowislord/following{/other_user}","gists_url":"https://api.github.com/users/shadowislord/gists{/gist_id}","starred_url":"https://api.github.com/users/shadowislord/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shadowislord/subscriptions","organizations_url":"https://api.github.com/users/shadowislord/orgs","repos_url":"https://api.github.com/users/shadowislord/repos","events_url":"https://api.github.com/users/shadowislord/events{/privacy}","received_events_url":"https://api.github.com/users/shadowislord/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-09-15T02:08:57Z","updated_at":"2017-09-16T17:25:25Z","closed_at":"2017-09-16T17:25:21Z","author_association":"OWNER","pull_request":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/pulls/729","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/729","diff_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/729.diff","patch_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/729.patch"},"body":"Multisample textures do not support mipmapping, so all parameters related to mipmapping are illegal to use","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/728","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/728/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/728/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/728/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/issues/728","id":257684823,"number":728,"title":"Modifying BindPose on skeleton destroys animation on modified bones","user":{"login":"Ali-RS","id":5787647,"avatar_url":"https://avatars1.githubusercontent.com/u/5787647?v=4","gravatar_id":"","url":"https://api.github.com/users/Ali-RS","html_url":"https://github.com/Ali-RS","followers_url":"https://api.github.com/users/Ali-RS/followers","following_url":"https://api.github.com/users/Ali-RS/following{/other_user}","gists_url":"https://api.github.com/users/Ali-RS/gists{/gist_id}","starred_url":"https://api.github.com/users/Ali-RS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ali-RS/subscriptions","organizations_url":"https://api.github.com/users/Ali-RS/orgs","repos_url":"https://api.github.com/users/Ali-RS/repos","events_url":"https://api.github.com/users/Ali-RS/events{/privacy}","received_events_url":"https://api.github.com/users/Ali-RS/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-09-14T11:25:06Z","updated_at":"2017-09-25T19:54:44Z","closed_at":null,"author_association":"CONTRIBUTOR","body":"To not let this issue (probably a bug) get lost on forum, I thought to report it on github page. \r\n\r\nhttps://hub.jmonkeyengine.org/t/problem-with-modifying-bindpose-on-skeleton/38835?u=ali_rs\r\n","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/727","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/727/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/727/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/727/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/727","id":257499554,"number":727,"title":"Blender Importer: Load HDR and many other","user":{"login":"MeFisto94","id":12577813,"avatar_url":"https://avatars0.githubusercontent.com/u/12577813?v=4","gravatar_id":"","url":"https://api.github.com/users/MeFisto94","html_url":"https://github.com/MeFisto94","followers_url":"https://api.github.com/users/MeFisto94/followers","following_url":"https://api.github.com/users/MeFisto94/following{/other_user}","gists_url":"https://api.github.com/users/MeFisto94/gists{/gist_id}","starred_url":"https://api.github.com/users/MeFisto94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MeFisto94/subscriptions","organizations_url":"https://api.github.com/users/MeFisto94/orgs","repos_url":"https://api.github.com/users/MeFisto94/repos","events_url":"https://api.github.com/users/MeFisto94/events{/privacy}","received_events_url":"https://api.github.com/users/MeFisto94/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-09-13T19:48:09Z","updated_at":"2017-09-13T21:30:34Z","closed_at":null,"author_association":"MEMBER","pull_request":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/pulls/727","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/727","diff_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/727.diff","patch_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/727.patch"},"body":"When a blender file contained a hdr image, for example, the engine is able to load that as a texture, however the blender importer didn't do so.\r\nThis was because it didn't rely on the AssetManager to load images but instead called some Loaders directly.\r\n\r\nThis pull request fixes this by using the AM, which means any (even user-) registered AssetLoader can be used to load textures from blender files now.\r\n\r\nI've made an API Change though: ImageLoader is now more of a TextureLoader. The AssetManager can only hand back `Texture` objects and since there is no point in converting:  `Texture->Image->Texture`, I added loadTexture() and deprecated loadImage.\r\n\r\nTechnically loadImage could be removed as well since it's never called, but I kept it in for now.","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/726","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/726/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/726/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/726/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/726","id":257451468,"number":726,"title":"Blender Importer: Don't crash when a packed texture couldn't be loaded","user":{"login":"MeFisto94","id":12577813,"avatar_url":"https://avatars0.githubusercontent.com/u/12577813?v=4","gravatar_id":"","url":"https://api.github.com/users/MeFisto94","html_url":"https://github.com/MeFisto94","followers_url":"https://api.github.com/users/MeFisto94/followers","following_url":"https://api.github.com/users/MeFisto94/following{/other_user}","gists_url":"https://api.github.com/users/MeFisto94/gists{/gist_id}","starred_url":"https://api.github.com/users/MeFisto94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MeFisto94/subscriptions","organizations_url":"https://api.github.com/users/MeFisto94/orgs","repos_url":"https://api.github.com/users/MeFisto94/repos","events_url":"https://api.github.com/users/MeFisto94/events{/privacy}","received_events_url":"https://api.github.com/users/MeFisto94/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-09-13T16:57:33Z","updated_at":"2017-09-13T17:28:54Z","closed_at":null,"author_association":"MEMBER","pull_request":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/pulls/726","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/726","diff_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/726.diff","patch_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/726.patch"},"body":"So there is a little bug in the blender importer:\r\nWhen there is a texture which couldn't be loaded (in my case it was a hdr file which wasn't supported yet), the whole import procedure crashed with a NullPointerException (loadImage() returned null).\r\n\r\nJudging by 0e340416fdf399aec25da9711b501f081232abd9 and the general intention it would be better to import a model without that texture then (The code was already prepared for result being null), so we just don't throw an Exception when the Texture Loading failed.","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/725","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/725/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/725/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/725/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/725","id":256857191,"number":725,"title":"test and fix for issue #710 (phantom triangles in mesh collision)","user":{"login":"stephengold","id":2287609,"avatar_url":"https://avatars1.githubusercontent.com/u/2287609?v=4","gravatar_id":"","url":"https://api.github.com/users/stephengold","html_url":"https://github.com/stephengold","followers_url":"https://api.github.com/users/stephengold/followers","following_url":"https://api.github.com/users/stephengold/following{/other_user}","gists_url":"https://api.github.com/users/stephengold/gists{/gist_id}","starred_url":"https://api.github.com/users/stephengold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stephengold/subscriptions","organizations_url":"https://api.github.com/users/stephengold/orgs","repos_url":"https://api.github.com/users/stephengold/repos","events_url":"https://api.github.com/users/stephengold/events{/privacy}","received_events_url":"https://api.github.com/users/stephengold/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-09-11T22:08:21Z","updated_at":"2017-09-15T18:09:43Z","closed_at":"2017-09-15T18:09:43Z","author_association":"CONTRIBUTOR","pull_request":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/pulls/725","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/725","diff_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/725.diff","patch_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/725.patch"},"body":"Rebasing with Git was driving me crazy, so I cloned a new repo and reapplied my changes.","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/724","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/724/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/724/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/724/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/724","id":256496644,"number":724,"title":"Migrate material things to use jme clonable system","user":{"login":"JavaSaBr","id":7160534,"avatar_url":"https://avatars1.githubusercontent.com/u/7160534?v=4","gravatar_id":"","url":"https://api.github.com/users/JavaSaBr","html_url":"https://github.com/JavaSaBr","followers_url":"https://api.github.com/users/JavaSaBr/followers","following_url":"https://api.github.com/users/JavaSaBr/following{/other_user}","gists_url":"https://api.github.com/users/JavaSaBr/gists{/gist_id}","starred_url":"https://api.github.com/users/JavaSaBr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JavaSaBr/subscriptions","organizations_url":"https://api.github.com/users/JavaSaBr/orgs","repos_url":"https://api.github.com/users/JavaSaBr/repos","events_url":"https://api.github.com/users/JavaSaBr/events{/privacy}","received_events_url":"https://api.github.com/users/JavaSaBr/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2017-09-10T09:21:50Z","updated_at":"2017-09-17T11:20:08Z","closed_at":"2017-09-17T11:20:08Z","author_association":"CONTRIBUTOR","pull_request":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/pulls/724","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/724","diff_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/724.diff","patch_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/724.patch"},"body":"I like Jme clone system and savable objects system and I like to use it with all jME objects, but I saw that MaterialDef's things don't implement it. So I have migrated these things to use JmeClonable system and implemented JmeClonable/Savable interfaces for all these things.","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/723","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/723/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/723/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/723/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/723","id":256464339,"number":723,"title":"In-pass shadows (WIP)","user":{"login":"shadowislord","id":6314496,"avatar_url":"https://avatars1.githubusercontent.com/u/6314496?v=4","gravatar_id":"","url":"https://api.github.com/users/shadowislord","html_url":"https://github.com/shadowislord","followers_url":"https://api.github.com/users/shadowislord/followers","following_url":"https://api.github.com/users/shadowislord/following{/other_user}","gists_url":"https://api.github.com/users/shadowislord/gists{/gist_id}","starred_url":"https://api.github.com/users/shadowislord/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shadowislord/subscriptions","organizations_url":"https://api.github.com/users/shadowislord/orgs","repos_url":"https://api.github.com/users/shadowislord/repos","events_url":"https://api.github.com/users/shadowislord/events{/privacy}","received_events_url":"https://api.github.com/users/shadowislord/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-09-09T20:36:16Z","updated_at":"2017-09-30T22:56:29Z","closed_at":null,"author_association":"OWNER","pull_request":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/pulls/723","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/723","diff_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/723.diff","patch_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/723.patch"},"body":"![Teapot lit by spot lights](https://jme-hub-cdn-jmonkeyengineor.netdna-ssl.com/uploads/default/original/2X/3/30d4027ec5df65ae6eac9ebff5cada3adf0f0219.png)\r\n\r\nThis is the PR implementing in-pass shadows as shown in the April 2016 screenshot thread:\r\nhttps://hub.jmonkeyengine.org/t/april-2016-monthly-wip-screenshot-thread/35512/128\r\n\r\nHow it works:\r\n`PreShadowArrayRenderer` is responsible for generating a texture array containing shadow maps for every light that should be shadowed. Directional lights use PSSM with 1-4 slices, spot lights use 1 slice, and point lights will use 6 slices (not implemented yet). The information of which texture array to use and the slices is represented in the `ShadowMap` interface. This is then associated with the light so that later it can be retrieved.\r\nWhen the scene is rendered, `ShadowStaticPassLightingLogic` is the `TechniqueDefLogic` implementation that is capable of rendering in-pass shadows. The light types are statically known which allows the shader to avoid control flow. It works similarly to `SinglePass`, except that the lights are first sorted by type and then their counts are known statically, so instead of this loop:\r\n\r\n```\r\nfor each light do ...\r\n```\r\n\r\nIt becomes\r\n\r\n```\r\nfor each directional light do ...\r\nfor each point light do ...\r\nfor each spot light do ...\r\n```\r\n\r\nThis then allows using different logic depending on the light type. The way shadow maps are fetched varies depending on the type of light, which is why this is required.\r\n\r\nTheoretically, if we have control flow in the shader then we don't need to know the light type in advance and we can calculate the slice to fetch per each light. This is probably how in-pass shadows will be integrated with the rest of the lighting shaders.\r\n\r\nTODO:\r\n- [x] Point light support\r\n- [ ] Integrate the `StaticLighting` shaders into the existing lighting shaders\r\n- [x] Remove / fix the hacks from `ShadowUtil`\r\n\r\nOptional:\r\n- [ ] Port the old shadow renderers to the new system\r\n- [ ] Implement and test PSSM-only in-pass shadows\r\n- [ ] Test on OpenGL ES 2.0","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/723/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}},{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/722","repository_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine","labels_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/722/labels{/name}","comments_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/722/comments","events_url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/722/events","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/722","id":256453918,"number":722,"title":"Avoid calculating whitepoint for each sample for HDR","user":{"login":"shadowislord","id":6314496,"avatar_url":"https://avatars1.githubusercontent.com/u/6314496?v=4","gravatar_id":"","url":"https://api.github.com/users/shadowislord","html_url":"https://github.com/shadowislord","followers_url":"https://api.github.com/users/shadowislord/followers","following_url":"https://api.github.com/users/shadowislord/following{/other_user}","gists_url":"https://api.github.com/users/shadowislord/gists{/gist_id}","starred_url":"https://api.github.com/users/shadowislord/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shadowislord/subscriptions","organizations_url":"https://api.github.com/users/shadowislord/orgs","repos_url":"https://api.github.com/users/shadowislord/repos","events_url":"https://api.github.com/users/shadowislord/events{/privacy}","received_events_url":"https://api.github.com/users/shadowislord/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-09-09T17:36:42Z","updated_at":"2017-09-18T03:03:43Z","closed_at":"2017-09-18T03:03:40Z","author_association":"OWNER","pull_request":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/pulls/722","html_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/722","diff_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/722.diff","patch_url":"https://github.com/jMonkeyEngine/jmonkeyengine/pull/722.patch"},"body":"For some reason this has the commits from `opengles2-fixes`... Too lazy to fix right now.","reactions":{"url":"https://api.github.com/repos/jMonkeyEngine/jmonkeyengine/issues/722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0}}],"meta":{"x-ratelimit-limit":"5000","x-ratelimit-remaining":"4999","x-ratelimit-reset":"1507317096","x-github-request-id":"B63D:366F:1010F9:219190:59D7C757","x-github-media-type":"github.squirrel-girl-preview","link":"<https://api.github.com/repositories/17960746/issues?state=all&page=2>; rel=\"next\", <https://api.github.com/repositories/17960746/issues?state=all&page=26>; rel=\"last\"","etag":"\"4caaa10a18deda285f5e388cc6a427d8\"","status":"200 OK"}}
